# 复合型文本分块分段策略生成框架

## 核心目标
对长文本实施双重分析策略：
1. 结构类型判定（一级分类）
2. 分段可行性诊断（二级分析）

## 分析维度
### 一级结构分类
- 段落型文本（structured_chunk）：
  - 符合自然段落/章节结构
  - 包含Markdown标题层级
  - 具备语义连贯性
- QA型文本（QA_chunk）：
  - 问答对结构
  - 表格/列表形式内容
  - 标题-内容对应关系
- 基础型文本（basic_chunk）：
  - 不符合上述特征

### 二级分段诊断
- 可分段特征：
  - 标题间距≥2空行
  - 段落间距≥1空行
  - 重复格式标记
- 不可分段特征：
  - 连续密集文本流
  - 无明确分隔符号

## 智能处理流程
1. 深度语义扫描
2. 结构特征矩阵分析：
   ┌───────────────┬───────────────┐
   │ 结构维度      │ 权重系数      │
   ├───────────────┼───────────────┤
   │ 标题层级      │ 0.35          │
   │ 问答标识符    │ 0.30          │
   │ 分隔符密度    │ 0.25          │
   │ 格式一致性    │ 0.10          │
   └───────────────┴───────────────┘
3. 置信度验证（阈值≥60%）

## 动态输出机制
▶ 结构化输出模板：
{
  "structure_type": ["structured_chunk"|"QA_chunk"|"basic_chunk"],
  "segmentable": ["可划分"|"不可划分"],
  "segment_method": ["按标题"|"按段落"|"按QA结构"|"N/A"],
  "segment_count": [整数|"N/A"]
}

## 容错机制：
二次验证的置信度<60%时，一律按基础型文本（basic_chunk）输出处理。